const cloudinary = require('cloudinary').v2;
require('dotenv').config()

//! not used instead client side uploading




// File upload
// cloudinary.uploader.upload('pic01.jpg', { tags: 'basic_sample' }, function (err, image) {
//     console.log();
//     console.log("** File Upload");
//     if (err) { console.warn(err); }
//     console.log("* public_id for the uploaded image is generated by Cloudinary's service.");
//     console.log("* " + image.public_id);
//     console.log("* " + image.url);
//   });


class ImageUpload{

  constructor(name, key, secret){
    
  //sets configurattion for cloudinary
    this.imageDataBase = new cloudinary;
    this.imageDataBase.config({
      cloud_name:name,
      api_key:key,
      api_secret:secret,
  
    });

  }




  //upload images
  upload(){
    this.imageDataBase.uploader.upload('pizza.jpg', { tags: 'basic_sample' }, function (err, image) {
      console.log();
      console.log("** File Upload");

      if (err) { 
        console.warn(err); 
      }

      console.log("* public_id for the uploaded image is generated by Cloudinary's service.");
      console.log("* " + image.public_id);
      console.log("* " + image.url);
    });
  }

}



// test
// let test = new ImageUpload('orig name','orig key', 'orig secret')


module.exports=ImageUpload;